Summary: A set of GNU Interactive Tools.
Name: gnu-interactive-tools
Version: @VERSION@
Release: 1
Copyright: GNU
Group: Applications/File
Source: http://nessie.mcc.ac.uk/~ianb/projects/git/gnu-interactive-tools-%{version}.tar.gz
URL: http://nessie.mcc.ac.uk/~ianb/projects/git/
Packager: Ian Beckwith <ianb@nessie.mcc.ac.uk>
BuildRoot: /var/tmp/git-root
Prereq: /sbin/install-info

%description
GNU Interactive Tools provides an extensible file system browser,
an ASCII/hexadecimal file viewer, a process viewer/killer and other
related utilities and shell scripts.  GIT can be used to increase the
speed and efficiency of copying and moving files and directories, invoking
editors, compressing and uncompressing files, creating and expanding
archives, compiling programs, sending mail and more.  GIT uses standard
ANSI color sequences, if they are available.

You should install the gnu-interactive-tools package if you are
interested in using its file management capabilities.

%prep
rm -rf $RPM_BUILD_ROOT

%setup -q

%build
CFLAGS="$RPM_OPT_FLAGS" LDFLAGS='-s' ./configure --prefix=/usr --with-terminfo
make

%install
make prefix=$RPM_BUILD_ROOT/usr/ install-strip
gzip -9nf $RPM_BUILD_ROOT/usr/share/info/git.info*

%files
%doc COPYING ChangeLog LSM NEWS PLATFORMS PROBLEMS README INSTALL doc/git.html
/usr/bin/*
/usr/bin/.gitaction
/usr/man/man1/*
/usr/share/info/git*
/usr/share/gnu-interactive-tools/*
/usr/share/doc/gnu-interactive-tools/*

%clean
rm -rf $RPM_BUILD_ROOT

%post
/sbin/install-info /usr/share/info/git.info.gz /usr/share/info/dir

%preun
if [ "$1" = 0 ]; then
    /sbin/install-info --delete /usr/share/info/git.info.gz /usr/share/info/dir
fi
